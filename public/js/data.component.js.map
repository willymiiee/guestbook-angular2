{"version":3,"sources":["data.component.ts"],"names":[],"mappings":"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","file":"data.component.js","sourcesContent":["import { Component, AfterViewInit } from '@angular/core';\nimport { GuestService } from './guest.service';\n\ndeclare var swal: any;\n\n@Component({\n    selector: 'data-guest',\n    templateUrl: 'data.component.html'\n})\nexport class DataComponent implements AfterViewInit {\n    constructor(\n        private guestService: GuestService\n    ){}\n\n    guests = [];\n    editbox = [];\n    loading = true;\n    page = 1;\n    hidden = false;\n\n    ngAfterViewInit() {\n        this.loadFirst();\n    }\n\n    loadFirst() {\n        this.guests = [];\n        this.loading = true;\n        this.loadData();\n    }\n\n    loadData() {\n        this.guestService.getGuests(this.page).subscribe(\n            result => {\n                for (var i in result.items) {\n                    this.guests.push(result.items[i]);\n                    this.editbox.push(false);\n                }\n\n                this.loading = false;\n\n                if (result.count < 10) {\n                    this.hidden = true;\n                }\n            }\n        )\n    }\n\n    loadMore() {\n        this.page++;\n        this.loadData();\n    }\n\n    show(id) {\n        this.guestService.showGuest(id).subscribe(\n            result => {\n                swal({\n                    title: \"Sukses mengambil data!\",\n                    text: \"Nama : \"+result.name+\"<br>Waktu dibuat : \"+result.created_date,\n                    html: true\n                });\n            }\n        )\n    }\n\n    edit(index) {\n        this.editbox[index] = true;\n    }\n\n    update(index) {\n        let data = {\n            name: this.guests[index].name,\n        };\n\n        this.guestService.patchGuest(this.guests[index].id, data).subscribe(\n            result => {\n                this.editbox[index] = false;\n                swal(\"Sukses!\", \"Data berhasil diperbarui\", \"success\");\n            }\n        )\n    }\n\n    delete(id) {\n        this.guestService.deleteGuest(id).subscribe(\n            result => {\n                swal(\"Sukses!\", \"Data berhasil dihapus\", \"success\");\n                this.loadFirst();\n            }\n        )\n    }\n}\n"],"sourceRoot":"/source/"}